import{s as ce,o as ie}from"../chunks/DI7dxzhH.js";import{S as fe,i as ue,d as w,k as W,l as O,m as G,s as q,n as X,a as K,b as o,o as p,c as S,e as z,p as he,g as V,f as F,h as I,j as M,t as B,q as ae,u as le,v as oe,w as ne,y as U,z as J,r as Y}from"../chunks/CVP1_GWu.js";import{e as T}from"../chunks/BH6QjZq0.js";import{F as me,C as de}from"../chunks/CmAAUfwR.js";function Z(i,r,a){const n=i.slice();return n[8]=r[a],n}function ee(i,r,a){const n=i.slice();return n[11]=r[a],n}function te(i){let r,a,n,g,c=i[11][1]+"",y,E,b;return a=new me({props:{width:48,country:i[11][0]}}),{c(){r=I("div"),ne(a.$$.fragment),n=M(),g=I("p"),y=B(c),E=M(),this.h()},l(h){r=S(h,"DIV",{class:!0});var d=z(r);oe(a.$$.fragment,d),n=V(d),g=S(d,"P",{class:!0});var f=z(g);y=F(f,c),f.forEach(w),E=V(d),d.forEach(w),this.h()},h(){p(g,"class","text-lg"),p(r,"class","flex flex-col items-center mx-1 my-4")},m(h,d){K(h,r,d),le(a,r,null),o(r,n),o(r,g),o(g,y),o(r,E),b=!0},p(h,d){const f={};d&1&&(f.country=h[11][0]),a.$set(f),(!b||d&1)&&c!==(c=h[11][1]+"")&&q(y,c)},i(h){b||(G(a.$$.fragment,h),b=!0)},o(h){O(a.$$.fragment,h),b=!1},d(h){h&&w(r),ae(a)}}}function se(i){let r,a,n,g,c,y,E,b,h,d,f,P=re(i[8][0])+"",C,j,x=Number((100*i[8][1]/i[3]).toFixed(1))+"",D,N,v,m;return h=new de({props:{character:i[8][0]}}),{c(){r=I("div"),a=I("div"),n=J("svg"),g=J("circle"),c=J("circle"),E=M(),b=I("div"),ne(h.$$.fragment),d=M(),f=I("span"),C=B(P),j=B(" ("),D=B(x),N=B("%)"),v=M(),this.h()},l(s){r=S(s,"DIV",{class:!0});var k=z(r);a=S(k,"DIV",{class:!0});var _=z(a);n=U(_,"svg",{class:!0,viewBox:!0,transform:!0});var u=z(n);g=U(u,"circle",{class:!0,cx:!0,cy:!0,r:!0}),z(g).forEach(w),c=U(u,"circle",{class:!0,cx:!0,cy:!0,r:!0,"stroke-dasharray":!0}),z(c).forEach(w),u.forEach(w),E=V(_),b=S(_,"DIV",{class:!0});var A=z(b);oe(h.$$.fragment,A),A.forEach(w),d=V(_),f=S(_,"SPAN",{class:!0});var e=z(f);C=F(e,P),j=F(e," ("),D=F(e,x),N=F(e,"%)"),e.forEach(w),_.forEach(w),v=V(k),k.forEach(w),this.h()},h(){p(g,"class","progress-background svelte-8z8ob7"),p(g,"cx","50"),p(g,"cy","50"),p(g,"r","45"),p(c,"class","progress-bar svelte-8z8ob7"),p(c,"cx","50"),p(c,"cy","50"),p(c,"r","45"),p(c,"stroke-dasharray",y=i[6](i[8][1])+" 283"),p(n,"class","absolute z-10 sized-40 progress svelte-8z8ob7"),p(n,"viewBox","0 0 100 100"),p(n,"transform","scale(-1, 1) rotate(-90)"),p(b,"class","z-20 w-max h-max"),p(f,"class","tooltip rounded shadow-lg p-1 bg-primary-contrastText text-primary-dark mt-[64px] text-xs svelte-8z8ob7"),p(a,"class","sized-40 m-4 flex items-center justify-center has-tooltip svelte-8z8ob7"),p(r,"class","flex sized-48 items-center justify-center svelte-8z8ob7")},m(s,k){K(s,r,k),o(r,a),o(a,n),o(n,g),o(n,c),o(a,E),o(a,b),le(h,b,null),o(a,d),o(a,f),o(f,C),o(f,j),o(f,D),o(f,N),o(r,v),m=!0},p(s,k){(!m||k&2&&y!==(y=s[6](s[8][1])+" 283"))&&p(c,"stroke-dasharray",y);const _={};k&2&&(_.character=s[8][0]),h.$set(_),(!m||k&2)&&P!==(P=re(s[8][0])+"")&&q(C,P),(!m||k&10)&&x!==(x=Number((100*s[8][1]/s[3]).toFixed(1))+"")&&q(D,x)},i(s){m||(G(h.$$.fragment,s),m=!0)},o(s){O(h.$$.fragment,s),m=!1},d(s){s&&w(r),ae(h)}}}function pe(i){let r,a,n="Stats",g,c,y,E,b,h,d,f,P,C,j,x,D,N,v;i[5];let m=T(i[0]),s=[];for(let e=0;e<m.length;e+=1)s[e]=te(ee(i,m,e));const k=e=>O(s[e],1,1,()=>{s[e]=null});let _=T(i[1]),u=[];for(let e=0;e<_.length;e+=1)u[e]=se(Z(i,_,e));const A=e=>O(u[e],1,1,()=>{u[e]=null});return{c(){r=I("section"),a=I("h1"),a.textContent=n,g=M(),c=I("div"),y=I("p"),E=B("Sets: "),b=B(i[2]),h=M(),d=I("p"),f=B("Games: "),P=B(i[3]),C=M(),j=M(),x=I("div");for(let e=0;e<s.length;e+=1)s[e].c();D=M(),N=I("div");for(let e=0;e<u.length;e+=1)u[e].c();this.h()},l(e){r=S(e,"SECTION",{class:!0});var l=z(r);a=S(l,"H1",{class:!0,"data-svelte-h":!0}),he(a)!=="svelte-gmp7if"&&(a.textContent=n),g=V(l),c=S(l,"DIV",{class:!0});var t=z(c);y=S(t,"P",{});var $=z(y);E=F($,"Sets: "),b=F($,i[2]),$.forEach(w),h=V(t),d=S(t,"P",{});var L=z(d);f=F(L,"Games: "),P=F(L,i[3]),L.forEach(w),C=V(t),t.forEach(w),j=V(l),x=S(l,"DIV",{class:!0});var Q=z(x);for(let H=0;H<s.length;H+=1)s[H].l(Q);Q.forEach(w),D=V(l),N=S(l,"DIV",{class:!0});var R=z(N);for(let H=0;H<u.length;H+=1)u[H].l(R);R.forEach(w),l.forEach(w),this.h()},h(){p(a,"class","text-4xl font-medium mb-2"),p(c,"class","flex flex-row bg-primary-main justify-evenly my-2"),p(x,"class","grid grid-cols-6 bg-primary-main my-2 place-items-center"),p(N,"class","grid grid-cols-7 bg-primary-main my-2 place-items-center"),p(r,"class","grid grid-cols-1 w-full min-w-[1024px] max-w-[1024px] my-8")},m(e,l){K(e,r,l),o(r,a),o(r,g),o(r,c),o(c,y),o(y,E),o(y,b),o(c,h),o(c,d),o(d,f),o(d,P),o(c,C),o(r,j),o(r,x);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(x,null);o(r,D),o(r,N);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(N,null);v=!0},p(e,[l]){if((!v||l&4)&&q(b,e[2]),(!v||l&8)&&q(P,e[3]),e[5],l&1){m=T(e[0]);let t;for(t=0;t<m.length;t+=1){const $=ee(e,m,t);s[t]?(s[t].p($,l),G(s[t],1)):(s[t]=te($),s[t].c(),G(s[t],1),s[t].m(x,null))}for(Y(),t=m.length;t<s.length;t+=1)k(t);X()}if(l&74){_=T(e[1]);let t;for(t=0;t<_.length;t+=1){const $=Z(e,_,t);u[t]?(u[t].p($,l),G(u[t],1)):(u[t]=se($),u[t].c(),G(u[t],1),u[t].m(N,null))}for(Y(),t=_.length;t<u.length;t+=1)A(t);X()}},i(e){if(!v){for(let l=0;l<m.length;l+=1)G(s[l]);for(let l=0;l<_.length;l+=1)G(u[l]);v=!0}},o(e){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)O(s[l]);u=u.filter(Boolean);for(let l=0;l<u.length;l+=1)O(u[l]);v=!1},d(e){e&&w(r),W(s,e),W(u,e)}}}function re(i){return i.toLowerCase().split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function _e(i,r,a){let{data:n={}}=r,g=[],c=[],y=0,E=1,b=0;function h(f){return f*283/E}let d=!1;return ie(async()=>{var N;let f=0,P=0;const C={},j={};for(const v of n.db.leaderboard){const m=n.db.codeMap[v].slug,s=((N=n.db.slugMap[m])==null?void 0:N.countryCode)||"xx";s in C||(C[s]=0),C[s]+=1;const k=n.db.codeMap[v].account;for(const _ of k.rankedNetplayProfile.characters)_.character in j||(j[_.character]=0),j[_.character]+=_.gameCount,a(3,E+=_.gameCount);a(2,y+=k.rankedNetplayProfile.wins+k.rankedNetplayProfile.losses),f+=k.rankedNetplayProfile.wins,P+=k.rankedNetplayProfile.losses}const x=[];for(const[v,m]of Object.entries(C))v!="xx"&&x.push([v,m]);x.sort((v,m)=>m[1]-v[1]),"xx"in C&&x.push(["xx",C.xx]),a(0,g=x);const D=[];for(const[v,m]of Object.entries(j))D.push([v,m]);D.sort((v,m)=>m[1]-v[1]),a(1,c=D),a(4,b=100-100*(Math.abs(f-P)/Math.max(f,P))),a(5,d=!0)}),i.$$set=f=>{"data"in f&&a(7,n=f.data)},[g,c,y,E,b,d,h,n]}class xe extends fe{constructor(r){super(),ue(this,r,_e,pe,ce,{data:7})}}export{xe as component};
