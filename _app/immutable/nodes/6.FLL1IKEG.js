import{s as ne,o as ie}from"../chunks/scheduler.BCwTDKuR.js";import{S as fe,i as ue,e as I,s as V,t as F,c as j,a as P,l as he,f as M,b as B,d as w,n as g,g as K,h as o,j as q,p as G,q as W,r as O,v as X,k as ae,m as le,o as oe,u as ce,y as U,z as J,w as Y}from"../chunks/index.Cg_rjlZJ.js";import{e as T}from"../chunks/flag.svelte_svelte_type_style_lang.DU-ZOkzN.js";import{F as me,C as de}from"../chunks/flag.A66d-HhG.js";function Z(i,r,a){const c=i.slice();return c[8]=r[a],c}function ee(i,r,a){const c=i.slice();return c[11]=r[a],c}function te(i){let r,a,c,_,n=i[11][1]+"",x,E,y;return a=new me({props:{width:48,country:i[11][0]}}),{c(){r=I("div"),ae(a.$$.fragment),c=V(),_=I("p"),x=F(n),E=V(),this.h()},l(h){r=j(h,"DIV",{class:!0});var d=P(r);le(a.$$.fragment,d),c=M(d),_=j(d,"P",{class:!0});var f=P(_);x=B(f,n),f.forEach(w),E=M(d),d.forEach(w),this.h()},h(){g(_,"class","text-lg"),g(r,"class","flex flex-col items-center mx-1 my-4")},m(h,d){K(h,r,d),oe(a,r,null),o(r,c),o(r,_),o(_,x),o(r,E),y=!0},p(h,d){const f={};d&1&&(f.country=h[11][0]),a.$set(f),(!y||d&1)&&n!==(n=h[11][1]+"")&&q(x,n)},i(h){y||(G(a.$$.fragment,h),y=!0)},o(h){O(a.$$.fragment,h),y=!1},d(h){h&&w(r),ce(a)}}}function se(i){let r,a,c,_,n,x,E,y,h,d,f,N=re(i[8][0])+"",C,z,b=Number((100*i[8][1]/i[3]).toFixed(1))+"",D,S,v,m;return h=new de({props:{character:i[8][0]}}),{c(){r=I("div"),a=I("div"),c=U("svg"),_=U("circle"),n=U("circle"),E=V(),y=I("div"),ae(h.$$.fragment),d=V(),f=I("span"),C=F(N),z=F(" ("),D=F(b),S=F("%)"),v=V(),this.h()},l(s){r=j(s,"DIV",{class:!0});var k=P(r);a=j(k,"DIV",{class:!0});var p=P(a);c=J(p,"svg",{class:!0,viewBox:!0,transform:!0});var u=P(c);_=J(u,"circle",{class:!0,cx:!0,cy:!0,r:!0}),P(_).forEach(w),n=J(u,"circle",{class:!0,cx:!0,cy:!0,r:!0,"stroke-dasharray":!0}),P(n).forEach(w),u.forEach(w),E=M(p),y=j(p,"DIV",{class:!0});var A=P(y);le(h.$$.fragment,A),A.forEach(w),d=M(p),f=j(p,"SPAN",{class:!0});var e=P(f);C=B(e,N),z=B(e," ("),D=B(e,b),S=B(e,"%)"),e.forEach(w),p.forEach(w),v=M(k),k.forEach(w),this.h()},h(){g(_,"class","progress-background svelte-gcvfa3"),g(_,"cx","50"),g(_,"cy","50"),g(_,"r","45"),g(n,"class","progress-bar svelte-gcvfa3"),g(n,"cx","50"),g(n,"cy","50"),g(n,"r","45"),g(n,"stroke-dasharray",x=i[6](i[8][1])+" 283"),g(c,"class","absolute z-10 sized-40 progress svelte-gcvfa3"),g(c,"viewBox","0 0 100 100"),g(c,"transform","scale(-1, 1) rotate(-90)"),g(y,"class","z-20 w-max h-max"),g(f,"class","tooltip rounded shadow-lg p-1 bg-primary-contrastText text-primary-dark mt-[64px] text-xs svelte-gcvfa3"),g(a,"class","sized-40 m-4 flex items-center justify-center has-tooltip svelte-gcvfa3"),g(r,"class","flex sized-48 items-center justify-center svelte-gcvfa3")},m(s,k){K(s,r,k),o(r,a),o(a,c),o(c,_),o(c,n),o(a,E),o(a,y),oe(h,y,null),o(a,d),o(a,f),o(f,C),o(f,z),o(f,D),o(f,S),o(r,v),m=!0},p(s,k){(!m||k&2&&x!==(x=s[6](s[8][1])+" 283"))&&g(n,"stroke-dasharray",x);const p={};k&2&&(p.character=s[8][0]),h.$set(p),(!m||k&2)&&N!==(N=re(s[8][0])+"")&&q(C,N),(!m||k&10)&&b!==(b=Number((100*s[8][1]/s[3]).toFixed(1))+"")&&q(D,b)},i(s){m||(G(h.$$.fragment,s),m=!0)},o(s){O(h.$$.fragment,s),m=!1},d(s){s&&w(r),ce(h)}}}function ge(i){let r,a,c="Stats",_,n,x,E,y,h,d,f,N,C,z,b,D,S,v;i[5];let m=T(i[0]),s=[];for(let e=0;e<m.length;e+=1)s[e]=te(ee(i,m,e));const k=e=>O(s[e],1,1,()=>{s[e]=null});let p=T(i[1]),u=[];for(let e=0;e<p.length;e+=1)u[e]=se(Z(i,p,e));const A=e=>O(u[e],1,1,()=>{u[e]=null});return{c(){r=I("section"),a=I("h1"),a.textContent=c,_=V(),n=I("div"),x=I("p"),E=F("Sets: "),y=F(i[2]),h=V(),d=I("p"),f=F("Games: "),N=F(i[3]),C=V(),z=V(),b=I("div");for(let e=0;e<s.length;e+=1)s[e].c();D=V(),S=I("div");for(let e=0;e<u.length;e+=1)u[e].c();this.h()},l(e){r=j(e,"SECTION",{class:!0});var l=P(r);a=j(l,"H1",{class:!0,"data-svelte-h":!0}),he(a)!=="svelte-gmp7if"&&(a.textContent=c),_=M(l),n=j(l,"DIV",{class:!0});var t=P(n);x=j(t,"P",{});var $=P(x);E=B($,"Sets: "),y=B($,i[2]),$.forEach(w),h=M(t),d=j(t,"P",{});var L=P(d);f=B(L,"Games: "),N=B(L,i[3]),L.forEach(w),C=M(t),t.forEach(w),z=M(l),b=j(l,"DIV",{class:!0});var Q=P(b);for(let H=0;H<s.length;H+=1)s[H].l(Q);Q.forEach(w),D=M(l),S=j(l,"DIV",{class:!0});var R=P(S);for(let H=0;H<u.length;H+=1)u[H].l(R);R.forEach(w),l.forEach(w),this.h()},h(){g(a,"class","text-4xl font-medium mb-2"),g(n,"class","flex flex-row bg-primary-main justify-evenly my-2"),g(b,"class","grid grid-cols-6 bg-primary-main my-2 place-items-center"),g(S,"class","grid grid-cols-7 bg-primary-main my-2 place-items-center"),g(r,"class","grid grid-cols-1 w-full min-w-[1024px] max-w-[1024px] my-8")},m(e,l){K(e,r,l),o(r,a),o(r,_),o(r,n),o(n,x),o(x,E),o(x,y),o(n,h),o(n,d),o(d,f),o(d,N),o(n,C),o(r,z),o(r,b);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(b,null);o(r,D),o(r,S);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(S,null);v=!0},p(e,[l]){if((!v||l&4)&&q(y,e[2]),(!v||l&8)&&q(N,e[3]),e[5],l&1){m=T(e[0]);let t;for(t=0;t<m.length;t+=1){const $=ee(e,m,t);s[t]?(s[t].p($,l),G(s[t],1)):(s[t]=te($),s[t].c(),G(s[t],1),s[t].m(b,null))}for(Y(),t=m.length;t<s.length;t+=1)k(t);W()}if(l&74){p=T(e[1]);let t;for(t=0;t<p.length;t+=1){const $=Z(e,p,t);u[t]?(u[t].p($,l),G(u[t],1)):(u[t]=se($),u[t].c(),G(u[t],1),u[t].m(S,null))}for(Y(),t=p.length;t<u.length;t+=1)A(t);W()}},i(e){if(!v){for(let l=0;l<m.length;l+=1)G(s[l]);for(let l=0;l<p.length;l+=1)G(u[l]);v=!0}},o(e){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)O(s[l]);u=u.filter(Boolean);for(let l=0;l<u.length;l+=1)O(u[l]);v=!1},d(e){e&&w(r),X(s,e),X(u,e)}}}function re(i){return i.toLowerCase().split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function pe(i,r,a){let{data:c={}}=r,_=[],n=[],x=0,E=1,y=0;function h(f){return f*283/E}let d=!1;return ie(async()=>{var S;let f=0,N=0;const C={},z={};for(const v of c.db.leaderboard){const m=c.db.codeMap[v].slug,s=((S=c.db.slugMap[m])==null?void 0:S.countryCode)||"xx";s in C||(C[s]=0),C[s]+=1;const k=c.db.codeMap[v].account;for(const p of k.rankedNetplayProfile.characters)p.character in z||(z[p.character]=0),z[p.character]+=p.gameCount,a(3,E+=p.gameCount);a(2,x+=k.rankedNetplayProfile.wins+k.rankedNetplayProfile.losses),f+=k.rankedNetplayProfile.wins,N+=k.rankedNetplayProfile.losses}const b=[];for(const[v,m]of Object.entries(C))v!="xx"&&b.push([v,m]);b.sort((v,m)=>m[1]-v[1]),"xx"in C&&b.push(["xx",C.xx]),a(0,_=b);const D=[];for(const[v,m]of Object.entries(z))D.push([v,m]);D.sort((v,m)=>m[1]-v[1]),a(1,n=D),a(4,y=100-100*(Math.abs(f-N)/Math.max(f,N))),a(5,d=!0)}),i.$$set=f=>{"data"in f&&a(7,c=f.data)},[_,n,x,E,y,d,h,c]}class be extends fe{constructor(r){super(),ue(this,r,pe,ge,ne,{data:7})}}export{be as component};
