import{s as ue,o as de,n as X}from"../chunks/scheduler.BCwTDKuR.js";import{S as he,i as _e,e as b,s as j,c as y,a as w,k as pe,f as B,d as m,l as x,g as L,h as u,m as P,n as T,o as F,p as ne,q as oe,t as M,r as ie,b as N,u as ce,v as A,w as fe,j as Y,x as Z}from"../chunks/index.BUpP3MOL.js";import{e as O}from"../chunks/flag.svelte_svelte_type_style_lang.CSN8k6LE.js";import{g as ee}from"../chunks/rankings.D6rzrCUl.js";import{F as me,C as ge}from"../chunks/flag.DdbdN1kn.js";function te(s,e,t){const l=s.slice();return l[5]=e[t],l}function le(s,e,t){const l=s.slice();return l[8]=e[t],l}function ve(s){let e,t,l=s[5].subtitle+"",p;return{c(){e=b("p"),t=M(", "),p=M(l),this.h()},l(h){e=y(h,"P",{class:!0});var n=w(e);t=N(n,", "),p=N(n,l),n.forEach(m),this.h()},h(){x(e,"class","text-md font-thin")},m(h,n){L(h,e,n),u(e,t),u(e,p)},d(h){h&&m(e)}}}function be(s){let e,t,l,p;const h=[xe,ye],n=[];function a(_,r){return _[1]?0:1}return e=a(s),t=n[e]=h[e](s),{c(){t.c(),l=Z()},l(_){t.l(_),l=Z()},m(_,r){n[e].m(_,r),L(_,l,r),p=!0},p(_,r){let c=e;e=a(_),e!==c&&(A(),F(n[c],1,1,()=>{n[c]=null}),T(),t=n[e],t||(t=n[e]=h[e](_),t.c()),P(t,1),t.m(l.parentNode,l))},i(_){p||(P(t),p=!0)},o(_){F(t),p=!1},d(_){_&&m(l),n[e].d(_)}}}function ye(s){let e;return{c(){e=b("div"),this.h()},l(t){e=y(t,"DIV",{class:!0}),w(e).forEach(m),this.h()},h(){x(e,"class","stock-placeholder-18 svelte-ke1lx")},m(t,l){L(t,e,l)},i:X,o:X,d(t){t&&m(e)}}}function xe(s){let e,t;return e=new ge({props:{size:"18",character:s[8].characters[0]}}),{c(){oe(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,p){ce(e,l,p),t=!0},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function re(s){var d,g,i;let e,t,l,p=(s[8].hm?"HM":s[8].rank)+"",h,n,a,_,r,c=s[0].db.fGetPlayerBySlug(s[8].player).tag+"",o,D,V,S,$=(((g=(d=s[0].db.fGetPlayerBySlug(s[8].player))==null?void 0:d.slippiConnectCodes)==null?void 0:g.slice(0,1))||"")+"",R,q,E,I,f,C=((i=s[8].characters)==null?void 0:i.length)>0&&be(s);return{c(){e=b("div"),t=b("div"),l=b("p"),h=M(p),n=j(),a=b("div"),_=b("div"),r=b("p"),o=M(c),D=j(),V=b("div"),S=b("p"),R=M($),q=j(),E=b("div"),C&&C.c(),I=j(),this.h()},l(v){e=y(v,"DIV",{class:!0});var k=w(e);t=y(k,"DIV",{class:!0});var H=w(t);l=y(H,"P",{class:!0});var G=w(l);h=N(G,p),G.forEach(m),H.forEach(m),n=B(k),a=y(k,"DIV",{class:!0});var z=w(a);_=y(z,"DIV",{class:!0});var J=w(_);r=y(J,"P",{class:!0});var K=w(r);o=N(K,c),K.forEach(m),J.forEach(m),D=B(z),V=y(z,"DIV",{class:!0});var Q=w(V);S=y(Q,"P",{class:!0});var U=w(S);R=N(U,$),U.forEach(m),Q.forEach(m),z.forEach(m),q=B(k),E=y(k,"DIV",{class:!0});var W=w(E);C&&C.l(W),W.forEach(m),I=B(k),k.forEach(m),this.h()},h(){x(l,"class","text-center text-sm font-semibold"),x(t,"class","flex flex-col justify-center items-center h-full min-w-[28px] bg-slsa-light"),x(r,"class","font-bold"),x(_,"class","flex flex-row justify-start items-center"),x(S,"class","text-xs text-primary-light"),x(V,"class","flex flex-row justify-start items-center"),x(a,"class","flex flex-col justify-evenly w-full px-2 leading-[1.25]"),x(E,"class","flex flex-col items-center justify-center h-full min-w-[20px] m-[2px]"),x(e,"class","flex flex-row justify-between items-center align-middle h-10 m-1 min-w-[196px] h-[36px] bg-[#ffffff14] rounded grid-flow-col")},m(v,k){L(v,e,k),u(e,t),u(t,l),u(l,h),u(e,n),u(e,a),u(a,_),u(_,r),u(r,o),u(a,D),u(a,V),u(V,S),u(S,R),u(e,q),u(e,E),C&&C.m(E,null),u(e,I),f=!0},p(v,k){var H,G,z;(!f||k&1)&&c!==(c=v[0].db.fGetPlayerBySlug(v[8].player).tag+"")&&Y(o,c),(!f||k&1)&&$!==($=(((G=(H=v[0].db.fGetPlayerBySlug(v[8].player))==null?void 0:H.slippiConnectCodes)==null?void 0:G.slice(0,1))||"")+"")&&Y(R,$),((z=v[8].characters)==null?void 0:z.length)>0&&C.p(v,k)},i(v){f||(P(C),f=!0)},o(v){F(C),f=!1},d(v){v&&m(e),C&&C.d()}}}function ae(s){let e,t,l,p,h,n=s[5].year+"",a,_,r,c,o=s[5].title+"",D,V,S,$,R,q;l=new me({props:{width:48,country:s[2](s[5])}});let E=!!s[5].subtitle&&ve(s),I=O(s[5].players.sort(se)),f=[];for(let d=0;d<I.length;d+=1)f[d]=re(le(s,I,d));const C=d=>F(f[d],1,1,()=>{f[d]=null});return{c(){e=b("div"),t=b("div"),oe(l.$$.fragment),p=j(),h=b("p"),a=M(n),_=j(),r=b("p"),c=M(" • "),D=M(o),V=j(),E&&E.c(),S=j(),$=b("div");for(let d=0;d<f.length;d+=1)f[d].c();R=j(),this.h()},l(d){e=y(d,"DIV",{class:!0});var g=w(e);t=y(g,"DIV",{class:!0});var i=w(t);ie(l.$$.fragment,i),p=B(i),h=y(i,"P",{class:!0});var v=w(h);a=N(v,n),v.forEach(m),_=B(i),r=y(i,"P",{class:!0});var k=w(r);c=N(k," • "),D=N(k,o),k.forEach(m),V=B(i),E&&E.l(i),i.forEach(m),S=B(g),$=y(g,"DIV",{class:!0});var H=w($);for(let G=0;G<f.length;G+=1)f[G].l(H);H.forEach(m),R=B(g),g.forEach(m),this.h()},h(){x(h,"class","text-lg font-bold ml-3"),x(r,"class","text-lg font-bold"),x(t,"class","flex flex-row w-full h-9 items-center bg-purple"),x($,"class","grid grid-cols-5 p-2 max-h-[436px] border-y border-primary-dark"),x(e,"class","bg-primary-main w-inherit mb-12 rounded")},m(d,g){L(d,e,g),u(e,t),ce(l,t,null),u(t,p),u(t,h),u(h,a),u(t,_),u(t,r),u(r,c),u(r,D),u(t,V),E&&E.m(t,null),u(e,S),u(e,$);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m($,null);u(e,R),q=!0},p(d,g){if(g&3){I=O(d[5].players.sort(se));let i;for(i=0;i<I.length;i+=1){const v=le(d,I,i);f[i]?(f[i].p(v,g),P(f[i],1)):(f[i]=re(v),f[i].c(),P(f[i],1),f[i].m($,null))}for(A(),i=I.length;i<f.length;i+=1)C(i);T()}},i(d){if(!q){P(l.$$.fragment,d);for(let g=0;g<I.length;g+=1)P(f[g]);q=!0}},o(d){F(l.$$.fragment,d),f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)F(f[g]);q=!1},d(d){d&&m(e),fe(l),E&&E.d(),ne(f,d)}}}function ke(s){let e,t,l="Rankings",p,h,n=O(ee()),a=[];for(let r=0;r<n.length;r+=1)a[r]=ae(te(s,n,r));const _=r=>F(a[r],1,1,()=>{a[r]=null});return{c(){e=b("section"),t=b("h1"),t.textContent=l,p=j();for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=y(r,"SECTION",{class:!0});var c=w(e);t=y(c,"H1",{class:!0,"data-svelte-h":!0}),pe(t)!=="svelte-7n02pt"&&(t.textContent=l),p=B(c);for(let o=0;o<a.length;o+=1)a[o].l(c);c.forEach(m),this.h()},h(){x(t,"class","text-4xl font-medium mb-8"),x(e,"class","grid grid-cols-1 w-full min-w-[1024px] max-w-[1024px] my-8")},m(r,c){L(r,e,c),u(e,t),u(e,p);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null);h=!0},p(r,[c]){if(c&7){n=O(ee());let o;for(o=0;o<n.length;o+=1){const D=te(r,n,o);a[o]?(a[o].p(D,c),P(a[o],1)):(a[o]=ae(D),a[o].c(),P(a[o],1),a[o].m(e,null))}for(A(),o=n.length;o<a.length;o+=1)_(o);T()}},i(r){if(!h){for(let c=0;c<n.length;c+=1)P(a[c]);h=!0}},o(r){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)F(a[c]);h=!1},d(r){r&&m(e),ne(a,r)}}}const se=(s,e)=>e.rank-s.rank;function we(s,e,t){let{data:l={}}=e;const p=n=>n.flag||n.tag.toLowerCase();let h=!1;return de(async()=>{t(1,h=!0)}),s.$$set=n=>{"data"in n&&t(0,l=n.data)},[l,h,p]}class De extends he{constructor(e){super(),_e(this,e,we,ke,ue,{data:0})}}export{De as component};
