import{s as fe,o as ue,n as le}from"../chunks/scheduler.BBINyCwK.js";import{S as he,i as de,e as b,s as S,c as y,a as k,g as pe,b as j,d as m,f as x,h as K,j as c,t as G,k as ae,l as z,m as re,n as se,o as H,p as ne,q as M,r as oe,u as ie,v as ce,w as U}from"../chunks/index.DwQYmpNp.js";import{e as A,R as W,F as _e,C as me}from"../chunks/characterStock.T5BZAfD3.js";function X(s,e,t){const l=s.slice();return l[6]=e[t],l}function Y(s,e,t){const l=s.slice();return l[9]=e[t],l}function ge(s){let e,t,l=s[6].subtitle+"",g;return{c(){e=b("p"),t=H(", "),g=H(l),this.h()},l(d){e=y(d,"P",{class:!0});var u=k(e);t=M(u,", "),g=M(u,l),u.forEach(m),this.h()},h(){x(e,"class","text-md font-thin")},m(d,u){K(d,e,u),c(e,t),c(e,g)},p:le,d(d){d&&m(e)}}}function ve(s){let e,t;return e=new me({props:{size:"18",character:s[9].characters[0]}}),{c(){se(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,g){oe(e,l,g),t=!0},p:le,i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Z(s){var f,p,o;let e,t,l,g=(s[9].hm?"HM":s[9].rank)+"",d,u,r,C,a,h=s[0].db.fGetPlayerBySlug(s[9].player).tag+"",n,P,D,V,E=(((p=(f=s[0].db.fGetPlayerBySlug(s[9].player))==null?void 0:f.slippiConnectCodes)==null?void 0:p.slice(0,1))||"")+"",R,F,w,I,i,$=((o=s[9].characters)==null?void 0:o.length)>0&&ve(s);return{c(){e=b("div"),t=b("div"),l=b("p"),d=H(g),u=S(),r=b("div"),C=b("div"),a=b("p"),n=H(h),P=S(),D=b("div"),V=b("p"),R=H(E),F=S(),w=b("div"),$&&$.c(),I=S(),this.h()},l(_){e=y(_,"DIV",{class:!0});var v=k(e);t=y(v,"DIV",{class:!0});var q=k(t);l=y(q,"P",{class:!0});var B=k(l);d=M(B,g),B.forEach(m),q.forEach(m),u=j(v),r=y(v,"DIV",{class:!0});var N=k(r);C=y(N,"DIV",{class:!0});var L=k(C);a=y(L,"P",{class:!0});var J=k(a);n=M(J,h),J.forEach(m),L.forEach(m),P=j(N),D=y(N,"DIV",{class:!0});var O=k(D);V=y(O,"P",{class:!0});var Q=k(V);R=M(Q,E),Q.forEach(m),O.forEach(m),N.forEach(m),F=j(v),w=y(v,"DIV",{class:!0});var T=k(w);$&&$.l(T),T.forEach(m),I=j(v),v.forEach(m),this.h()},h(){x(l,"class","text-center text-sm font-semibold"),x(t,"class","flex flex-col justify-center items-center h-full min-w-[28px] bg-slsa-light"),x(a,"class","font-bold"),x(C,"class","flex flex-row justify-start items-center"),x(V,"class","text-xs text-primary-light"),x(D,"class","flex flex-row justify-start items-center"),x(r,"class","flex flex-col justify-evenly w-full px-2"),x(w,"class","flex flex-col items-center justify-center h-full min-w-[20px] m-[1px]"),x(e,"class","flex flex-row justify-between items-center align-middle h-10 m-1 min-w-[196px] h-[36px] bg-[#ffffff14] rounded grid-flow-col")},m(_,v){K(_,e,v),c(e,t),c(t,l),c(l,d),c(e,u),c(e,r),c(r,C),c(C,a),c(a,n),c(r,P),c(r,D),c(D,V),c(V,R),c(e,F),c(e,w),$&&$.m(w,null),c(e,I),i=!0},p(_,v){var q,B,N;(!i||v&1)&&h!==(h=_[0].db.fGetPlayerBySlug(_[9].player).tag+"")&&U(n,h),(!i||v&1)&&E!==(E=(((B=(q=_[0].db.fGetPlayerBySlug(_[9].player))==null?void 0:q.slippiConnectCodes)==null?void 0:B.slice(0,1))||"")+"")&&U(R,E),((N=_[9].characters)==null?void 0:N.length)>0&&$.p(_,v)},i(_){i||(G($),i=!0)},o(_){z($),i=!1},d(_){_&&m(e),$&&$.d()}}}function ee(s){let e,t,l,g,d,u=s[6].year+"",r,C,a,h,n=s[6].title+"",P,D,V,E,R,F;l=new _e({props:{width:48,country:s[2](s[6])}});let w=!!s[6].subtitle&&ge(s),I=A(s[6].players.sort(te)),i=[];for(let f=0;f<I.length;f+=1)i[f]=Z(Y(s,I,f));const $=f=>z(i[f],1,1,()=>{i[f]=null});return{c(){e=b("div"),t=b("div"),se(l.$$.fragment),g=S(),d=b("p"),r=H(u),C=S(),a=b("p"),h=H(" • "),P=H(n),D=S(),w&&w.c(),V=S(),E=b("div");for(let f=0;f<i.length;f+=1)i[f].c();R=S(),this.h()},l(f){e=y(f,"DIV",{class:!0});var p=k(e);t=y(p,"DIV",{class:!0});var o=k(t);ne(l.$$.fragment,o),g=j(o),d=y(o,"P",{class:!0});var _=k(d);r=M(_,u),_.forEach(m),C=j(o),a=y(o,"P",{class:!0});var v=k(a);h=M(v," • "),P=M(v,n),v.forEach(m),D=j(o),w&&w.l(o),o.forEach(m),V=j(p),E=y(p,"DIV",{class:!0});var q=k(E);for(let B=0;B<i.length;B+=1)i[B].l(q);q.forEach(m),R=j(p),p.forEach(m),this.h()},h(){x(d,"class","text-lg font-bold ml-3"),x(a,"class","text-lg font-bold"),x(t,"class","flex flex-row w-full h-9 items-center bg-purple"),x(E,"class","grid grid-cols-5 p-2 max-h-[436px] border-y border-primary-dark"),x(e,"class","bg-primary-main w-full mb-12 pb-4 rounded")},m(f,p){K(f,e,p),c(e,t),oe(l,t,null),c(t,g),c(t,d),c(d,r),c(t,C),c(t,a),c(a,h),c(a,P),c(t,D),w&&w.m(t,null),c(e,V),c(e,E);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(E,null);c(e,R),F=!0},p(f,p){if(f[6].subtitle&&w.p(f,p),p&3){I=A(f[6].players.sort(te));let o;for(o=0;o<I.length;o+=1){const _=Y(f,I,o);i[o]?(i[o].p(_,p),G(i[o],1)):(i[o]=Z(_),i[o].c(),G(i[o],1),i[o].m(E,null))}for(ie(),o=I.length;o<i.length;o+=1)$(o);ae()}},i(f){if(!F){G(l.$$.fragment,f);for(let p=0;p<I.length;p+=1)G(i[p]);F=!0}},o(f){z(l.$$.fragment,f),i=i.filter(Boolean);for(let p=0;p<i.length;p+=1)z(i[p]);F=!1},d(f){f&&m(e),ce(l),w&&w.d(),re(i,f)}}}function be(s){let e,t,l="Rankings",g,d,u=A(s[1]),r=[];for(let a=0;a<u.length;a+=1)r[a]=ee(X(s,u,a));const C=a=>z(r[a],1,1,()=>{r[a]=null});return{c(){e=b("div"),t=b("h1"),t.textContent=l,g=S();for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=y(a,"DIV",{class:!0});var h=k(e);t=y(h,"H1",{class:!0,"data-svelte-h":!0}),pe(t)!=="svelte-7n02pt"&&(t.textContent=l),g=j(h);for(let n=0;n<r.length;n+=1)r[n].l(h);h.forEach(m),this.h()},h(){x(t,"class","text-4xl font-medium mb-8"),x(e,"class","grid grid-cols-1 w-full max-w-[1024px] m-8")},m(a,h){K(a,e,h),c(e,t),c(e,g);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);d=!0},p(a,[h]){if(h&7){u=A(a[1]);let n;for(n=0;n<u.length;n+=1){const P=X(a,u,n);r[n]?(r[n].p(P,h),G(r[n],1)):(r[n]=ee(P),r[n].c(),G(r[n],1),r[n].m(e,null))}for(ie(),n=u.length;n<r.length;n+=1)C(n);ae()}},i(a){if(!d){for(let h=0;h<u.length;h+=1)G(r[h]);d=!0}},o(a){r=r.filter(Boolean);for(let h=0;h<r.length;h+=1)z(r[h]);d=!1},d(a){a&&m(e),re(r,a)}}}const te=(s,e)=>e.rank-s.rank;function ye(s,e,t){let{data:l={}}=e;const g=W.reverse();new Set(W.map(u=>u.year));const d=u=>u.flag||u.tag.toLowerCase();return ue(async()=>{}),s.$$set=u=>{"data"in u&&t(0,l=u.data)},[l,g,d]}class Ee extends he{constructor(e){super(),de(this,e,ye,be,fe,{data:0})}}export{Ee as component};
