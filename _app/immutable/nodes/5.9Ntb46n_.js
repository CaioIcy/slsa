import{s as de,o as he,n as Y}from"../chunks/DI7dxzhH.js";import{S as _e,i as pe,d as m,k as oe,l as G,m as P,n as L,a as M,b as u,o as b,c as y,e as x,p as me,g as N,h as k,j,q as ie,r as T,u as ce,v as fe,f as q,w as ue,t as H,s as Z,x as ee}from"../chunks/CVP1_GWu.js";import{e as z}from"../chunks/BH6QjZq0.js";import{g as te}from"../chunks/Dggzwixv.js";import{F as ge,C as ve}from"../chunks/CmAAUfwR.js";function le(s,e,t){const l=s.slice();return l[5]=e[t],l}function re(s,e,t){const l=s.slice();return l[8]=e[t],l}function be(s){let e,t,l=s[5].subtitle+"",p;return{c(){e=k("p"),t=H(", "),p=H(l),this.h()},l(h){e=y(h,"P",{class:!0});var n=x(e);t=q(n,", "),p=q(n,l),n.forEach(m),this.h()},h(){b(e,"class","text-md font-thin")},m(h,n){M(h,e,n),u(e,t),u(e,p)},d(h){h&&m(e)}}}function ye(s){let e,t,l,p;const h=[xe,ke],n=[];function a(_,r){return _[1]?0:1}return e=a(s),t=n[e]=h[e](s),{c(){t.c(),l=ee()},l(_){t.l(_),l=ee()},m(_,r){n[e].m(_,r),M(_,l,r),p=!0},p(_,r){let c=e;e=a(_),e!==c&&(T(),G(n[c],1,1,()=>{n[c]=null}),L(),t=n[e],t||(t=n[e]=h[e](_),t.c()),P(t,1),t.m(l.parentNode,l))},i(_){p||(P(t),p=!0)},o(_){G(t),p=!1},d(_){_&&m(l),n[e].d(_)}}}function ke(s){let e;return{c(){e=k("div"),this.h()},l(t){e=y(t,"DIV",{class:!0}),x(e).forEach(m),this.h()},h(){b(e,"class","stock-placeholder-18 svelte-ke1lx")},m(t,l){M(t,e,l)},i:Y,o:Y,d(t){t&&m(e)}}}function xe(s){let e,t;return e=new ve({props:{size:"18",character:s[8].characters[0]}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,p){ce(e,l,p),t=!0},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function ae(s){var d,g,i,R;let e,t,l,p=(s[8].hm?"HM":s[8].rank)+"",h,n,a,_,r,c=(((d=s[0].db.fGetPlayerBySlug(s[8].player))==null?void 0:d.tag)||`UNKNOWN (${s[8].player})`)+"",o,D,V,S,$=(((i=(g=s[0].db.fGetPlayerBySlug(s[8].player))==null?void 0:g.slippiConnectCodes)==null?void 0:i.slice(0,1))||"")+"",F,O,E,I,f,C=((R=s[8].characters)==null?void 0:R.length)>0&&ye(s);return{c(){e=k("div"),t=k("div"),l=k("p"),h=H(p),n=j(),a=k("div"),_=k("div"),r=k("p"),o=H(c),D=j(),V=k("div"),S=k("p"),F=H($),O=j(),E=k("div"),C&&C.c(),I=j(),this.h()},l(v){e=y(v,"DIV",{class:!0});var w=x(e);t=y(w,"DIV",{class:!0});var B=x(t);l=y(B,"P",{class:!0});var U=x(l);h=q(U,p),U.forEach(m),B.forEach(m),n=N(w),a=y(w,"DIV",{class:!0});var K=x(a);_=y(K,"DIV",{class:!0});var W=x(_);r=y(W,"P",{class:!0});var A=x(r);o=q(A,c),A.forEach(m),W.forEach(m),D=N(K),V=y(K,"DIV",{class:!0});var J=x(V);S=y(J,"P",{class:!0});var Q=x(S);F=q(Q,$),Q.forEach(m),J.forEach(m),K.forEach(m),O=N(w),E=y(w,"DIV",{class:!0});var X=x(E);C&&C.l(X),X.forEach(m),I=N(w),w.forEach(m),this.h()},h(){b(l,"class","text-center text-sm font-semibold"),b(t,"class","flex flex-col justify-center items-center h-full min-w-[28px] bg-slsa-light"),b(r,"class","font-bold"),b(_,"class","flex flex-row justify-start items-center"),b(S,"class","text-xs text-primary-light"),b(V,"class","flex flex-row justify-start items-center"),b(a,"class","flex flex-col justify-evenly w-full px-2 leading-[1.25]"),b(E,"class","flex flex-col items-center justify-center h-full min-w-[20px] m-[2px]"),b(e,"class","flex flex-row justify-between items-center align-middle h-10 m-1 min-w-[196px] h-[36px] bg-[#ffffff14] rounded grid-flow-col")},m(v,w){M(v,e,w),u(e,t),u(t,l),u(l,h),u(e,n),u(e,a),u(a,_),u(_,r),u(r,o),u(a,D),u(a,V),u(V,S),u(S,F),u(e,O),u(e,E),C&&C.m(E,null),u(e,I),f=!0},p(v,w){var B,U,K,W;(!f||w&1)&&c!==(c=(((B=v[0].db.fGetPlayerBySlug(v[8].player))==null?void 0:B.tag)||`UNKNOWN (${v[8].player})`)+"")&&Z(o,c),(!f||w&1)&&$!==($=(((K=(U=v[0].db.fGetPlayerBySlug(v[8].player))==null?void 0:U.slippiConnectCodes)==null?void 0:K.slice(0,1))||"")+"")&&Z(F,$),((W=v[8].characters)==null?void 0:W.length)>0&&C.p(v,w)},i(v){f||(P(C),f=!0)},o(v){G(C),f=!1},d(v){v&&m(e),C&&C.d()}}}function se(s){let e,t,l,p,h,n=s[5].year+"",a,_,r,c,o=s[5].title+"",D,V,S,$,F,O;l=new ge({props:{width:48,country:s[2](s[5])}});let E=!!s[5].subtitle&&be(s),I=z(s[5].players.sort(ne)),f=[];for(let d=0;d<I.length;d+=1)f[d]=ae(re(s,I,d));const C=d=>G(f[d],1,1,()=>{f[d]=null});return{c(){e=k("div"),t=k("div"),ue(l.$$.fragment),p=j(),h=k("p"),a=H(n),_=j(),r=k("p"),c=H(" • "),D=H(o),V=j(),E&&E.c(),S=j(),$=k("div");for(let d=0;d<f.length;d+=1)f[d].c();F=j(),this.h()},l(d){e=y(d,"DIV",{class:!0});var g=x(e);t=y(g,"DIV",{class:!0});var i=x(t);fe(l.$$.fragment,i),p=N(i),h=y(i,"P",{class:!0});var R=x(h);a=q(R,n),R.forEach(m),_=N(i),r=y(i,"P",{class:!0});var v=x(r);c=q(v," • "),D=q(v,o),v.forEach(m),V=N(i),E&&E.l(i),i.forEach(m),S=N(g),$=y(g,"DIV",{class:!0});var w=x($);for(let B=0;B<f.length;B+=1)f[B].l(w);w.forEach(m),F=N(g),g.forEach(m),this.h()},h(){b(h,"class","text-lg font-bold ml-3"),b(r,"class","text-lg font-bold"),b(t,"class","flex flex-row w-full h-9 items-center bg-purple"),b($,"class","grid grid-cols-5 p-2 max-h-[436px] border-y border-primary-dark"),b(e,"class","bg-primary-main w-inherit mb-12 rounded")},m(d,g){M(d,e,g),u(e,t),ce(l,t,null),u(t,p),u(t,h),u(h,a),u(t,_),u(t,r),u(r,c),u(r,D),u(t,V),E&&E.m(t,null),u(e,S),u(e,$);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m($,null);u(e,F),O=!0},p(d,g){if(g&3){I=z(d[5].players.sort(ne));let i;for(i=0;i<I.length;i+=1){const R=re(d,I,i);f[i]?(f[i].p(R,g),P(f[i],1)):(f[i]=ae(R),f[i].c(),P(f[i],1),f[i].m($,null))}for(T(),i=I.length;i<f.length;i+=1)C(i);L()}},i(d){if(!O){P(l.$$.fragment,d);for(let g=0;g<I.length;g+=1)P(f[g]);O=!0}},o(d){G(l.$$.fragment,d),f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)G(f[g]);O=!1},d(d){d&&m(e),ie(l),E&&E.d(),oe(f,d)}}}function we(s){let e,t,l="Rankings",p,h,n=z(te()),a=[];for(let r=0;r<n.length;r+=1)a[r]=se(le(s,n,r));const _=r=>G(a[r],1,1,()=>{a[r]=null});return{c(){e=k("section"),t=k("h1"),t.textContent=l,p=j();for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=y(r,"SECTION",{class:!0});var c=x(e);t=y(c,"H1",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-7n02pt"&&(t.textContent=l),p=N(c);for(let o=0;o<a.length;o+=1)a[o].l(c);c.forEach(m),this.h()},h(){b(t,"class","text-4xl font-medium mb-8"),b(e,"class","grid grid-cols-1 w-full min-w-[1024px] max-w-[1024px] my-8")},m(r,c){M(r,e,c),u(e,t),u(e,p);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null);h=!0},p(r,[c]){if(c&7){n=z(te());let o;for(o=0;o<n.length;o+=1){const D=le(r,n,o);a[o]?(a[o].p(D,c),P(a[o],1)):(a[o]=se(D),a[o].c(),P(a[o],1),a[o].m(e,null))}for(T(),o=n.length;o<a.length;o+=1)_(o);L()}},i(r){if(!h){for(let c=0;c<n.length;c+=1)P(a[c]);h=!0}},o(r){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)G(a[c]);h=!1},d(r){r&&m(e),oe(a,r)}}}const ne=(s,e)=>e.rank-s.rank;function Ee(s,e,t){let{data:l={}}=e;const p=n=>n.flag||n.tag.toLowerCase();let h=!1;return he(async()=>{t(1,h=!0)}),s.$$set=n=>{"data"in n&&t(0,l=n.data)},[l,h,p]}class Ve extends _e{constructor(e){super(),pe(this,e,Ee,we,de,{data:0})}}export{Ve as component};
