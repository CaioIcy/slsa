import{s as he,o as de,n as z}from"../chunks/scheduler.BBINyCwK.js";import{S as _e,i as pe,e as b,s as j,c as y,a as E,k as ne,f as B,d as v,l as k,g as q,h,m as P,n as K,o as R,p as oe,q as ie,t as F,r as ce,b as L,u as fe,v as O,w as ue,j as Y,x as Z}from"../chunks/index.BWnIrRdG.js";import{e as A,R as ee,F as me,C as ve}from"../chunks/characterStock.ZWji7GPR.js";function te(a,e,t){const r=a.slice();return r[7]=e[t],r}function le(a,e,t){const r=a.slice();return r[10]=e[t],r}function ge(a){let e,t,r=a[7].subtitle+"",p;return{c(){e=b("p"),t=F(", "),p=F(r),this.h()},l(_){e=y(_,"P",{class:!0});var o=E(e);t=L(o,", "),p=L(o,r),o.forEach(v),this.h()},h(){k(e,"class","text-md font-thin")},m(_,o){q(_,e,o),h(e,t),h(e,p)},p:z,d(_){_&&v(e)}}}function be(a){let e,t,r,p;const _=[ke,ye],o=[];function l(n,s){return n[1]?0:1}return e=l(a),t=o[e]=_[e](a),{c(){t.c(),r=Z()},l(n){t.l(n),r=Z()},m(n,s){o[e].m(n,s),q(n,r,s),p=!0},p(n,s){let f=e;e=l(n),e===f?o[e].p(n,s):(O(),R(o[f],1,1,()=>{o[f]=null}),K(),t=o[e],t?t.p(n,s):(t=o[e]=_[e](n),t.c()),P(t,1),t.m(r.parentNode,r))},i(n){p||(P(t),p=!0)},o(n){R(t),p=!1},d(n){n&&v(r),o[e].d(n)}}}function ye(a){let e,t="";return{c(){e=b("div"),e.innerHTML=t,this.h()},l(r){e=y(r,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-13c0h5b"&&(e.innerHTML=t),this.h()},h(){k(e,"class","stock-placeholder-18 svelte-ke1lx")},m(r,p){q(r,e,p)},p:z,i:z,o:z,d(r){r&&v(e)}}}function ke(a){let e,t;return e=new ve({props:{size:"18",character:a[10].characters[0]}}),{c(){ie(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,p){fe(e,r,p),t=!0},p:z,i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){ue(e,r)}}}function re(a){var d,m,c;let e,t,r,p=(a[10].hm?"HM":a[10].rank)+"",_,o,l,n,s,f=a[0].db.fGetPlayerBySlug(a[10].player).tag+"",i,D,S,V,C=(((m=(d=a[0].db.fGetPlayerBySlug(a[10].player))==null?void 0:d.slippiConnectCodes)==null?void 0:m.slice(0,1))||"")+"",H,M,w,I,u,$=((c=a[10].characters)==null?void 0:c.length)>0&&be(a);return{c(){e=b("div"),t=b("div"),r=b("p"),_=F(p),o=j(),l=b("div"),n=b("div"),s=b("p"),i=F(f),D=j(),S=b("div"),V=b("p"),H=F(C),M=j(),w=b("div"),$&&$.c(),I=j(),this.h()},l(g){e=y(g,"DIV",{class:!0});var x=E(e);t=y(x,"DIV",{class:!0});var N=E(t);r=y(N,"P",{class:!0});var G=E(r);_=L(G,p),G.forEach(v),N.forEach(v),o=B(x),l=y(x,"DIV",{class:!0});var T=E(l);n=y(T,"DIV",{class:!0});var J=E(n);s=y(J,"P",{class:!0});var Q=E(s);i=L(Q,f),Q.forEach(v),J.forEach(v),D=B(T),S=y(T,"DIV",{class:!0});var U=E(S);V=y(U,"P",{class:!0});var W=E(V);H=L(W,C),W.forEach(v),U.forEach(v),T.forEach(v),M=B(x),w=y(x,"DIV",{class:!0});var X=E(w);$&&$.l(X),X.forEach(v),I=B(x),x.forEach(v),this.h()},h(){k(r,"class","text-center text-sm font-semibold"),k(t,"class","flex flex-col justify-center items-center h-full min-w-[28px] bg-slsa-light"),k(s,"class","font-bold"),k(n,"class","flex flex-row justify-start items-center"),k(V,"class","text-xs text-primary-light"),k(S,"class","flex flex-row justify-start items-center"),k(l,"class","flex flex-col justify-evenly w-full px-2 leading-[1.25]"),k(w,"class","flex flex-col items-center justify-center h-full min-w-[20px] m-[2px]"),k(e,"class","flex flex-row justify-between items-center align-middle h-10 m-1 min-w-[196px] h-[36px] bg-[#ffffff14] rounded grid-flow-col")},m(g,x){q(g,e,x),h(e,t),h(t,r),h(r,_),h(e,o),h(e,l),h(l,n),h(n,s),h(s,i),h(l,D),h(l,S),h(S,V),h(V,H),h(e,M),h(e,w),$&&$.m(w,null),h(e,I),u=!0},p(g,x){var N,G,T;(!u||x&1)&&f!==(f=g[0].db.fGetPlayerBySlug(g[10].player).tag+"")&&Y(i,f),(!u||x&1)&&C!==(C=(((G=(N=g[0].db.fGetPlayerBySlug(g[10].player))==null?void 0:N.slippiConnectCodes)==null?void 0:G.slice(0,1))||"")+"")&&Y(H,C),((T=g[10].characters)==null?void 0:T.length)>0&&$.p(g,x)},i(g){u||(P($),u=!0)},o(g){R($),u=!1},d(g){g&&v(e),$&&$.d()}}}function se(a){let e,t,r,p,_,o=a[7].year+"",l,n,s,f,i=a[7].title+"",D,S,V,C,H,M;r=new me({props:{width:48,country:a[3](a[7])}});let w=!!a[7].subtitle&&ge(a),I=A(a[7].players.sort(ae)),u=[];for(let d=0;d<I.length;d+=1)u[d]=re(le(a,I,d));const $=d=>R(u[d],1,1,()=>{u[d]=null});return{c(){e=b("div"),t=b("div"),ie(r.$$.fragment),p=j(),_=b("p"),l=F(o),n=j(),s=b("p"),f=F(" • "),D=F(i),S=j(),w&&w.c(),V=j(),C=b("div");for(let d=0;d<u.length;d+=1)u[d].c();H=j(),this.h()},l(d){e=y(d,"DIV",{class:!0});var m=E(e);t=y(m,"DIV",{class:!0});var c=E(t);ce(r.$$.fragment,c),p=B(c),_=y(c,"P",{class:!0});var g=E(_);l=L(g,o),g.forEach(v),n=B(c),s=y(c,"P",{class:!0});var x=E(s);f=L(x," • "),D=L(x,i),x.forEach(v),S=B(c),w&&w.l(c),c.forEach(v),V=B(m),C=y(m,"DIV",{class:!0});var N=E(C);for(let G=0;G<u.length;G+=1)u[G].l(N);N.forEach(v),H=B(m),m.forEach(v),this.h()},h(){k(_,"class","text-lg font-bold ml-3"),k(s,"class","text-lg font-bold"),k(t,"class","flex flex-row w-full h-9 items-center bg-purple"),k(C,"class","grid grid-cols-5 p-2 max-h-[436px] border-y border-primary-dark"),k(e,"class","bg-primary-main w-inherit mb-12 rounded")},m(d,m){q(d,e,m),h(e,t),fe(r,t,null),h(t,p),h(t,_),h(_,l),h(t,n),h(t,s),h(s,f),h(s,D),h(t,S),w&&w.m(t,null),h(e,V),h(e,C);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(C,null);h(e,H),M=!0},p(d,m){if(d[7].subtitle&&w.p(d,m),m&7){I=A(d[7].players.sort(ae));let c;for(c=0;c<I.length;c+=1){const g=le(d,I,c);u[c]?(u[c].p(g,m),P(u[c],1)):(u[c]=re(g),u[c].c(),P(u[c],1),u[c].m(C,null))}for(O(),c=I.length;c<u.length;c+=1)$(c);K()}},i(d){if(!M){P(r.$$.fragment,d);for(let m=0;m<I.length;m+=1)P(u[m]);M=!0}},o(d){R(r.$$.fragment,d),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)R(u[m]);M=!1},d(d){d&&v(e),ue(r),w&&w.d(),oe(u,d)}}}function xe(a){let e,t,r="Rankings",p,_,o=A(a[2]()),l=[];for(let s=0;s<o.length;s+=1)l[s]=se(te(a,o,s));const n=s=>R(l[s],1,1,()=>{l[s]=null});return{c(){e=b("section"),t=b("h1"),t.textContent=r,p=j();for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=y(s,"SECTION",{class:!0});var f=E(e);t=y(f,"H1",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-7n02pt"&&(t.textContent=r),p=B(f);for(let i=0;i<l.length;i+=1)l[i].l(f);f.forEach(v),this.h()},h(){k(t,"class","text-4xl font-medium mb-8"),k(e,"class","grid grid-cols-1 w-full min-w-[1024px] max-w-[1024px] my-8")},m(s,f){q(s,e,f),h(e,t),h(e,p);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);_=!0},p(s,[f]){if(f&15){o=A(s[2]());let i;for(i=0;i<o.length;i+=1){const D=te(s,o,i);l[i]?(l[i].p(D,f),P(l[i],1)):(l[i]=se(D),l[i].c(),P(l[i],1),l[i].m(e,null))}for(O(),i=o.length;i<l.length;i+=1)n(i);K()}},i(s){if(!_){for(let f=0;f<o.length;f+=1)P(l[f]);_=!0}},o(s){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)R(l[f]);_=!1},d(s){s&&v(e),oe(l,s)}}}const ae=(a,e)=>e.rank-a.rank;function we(a,e,t){let{data:r={}}=e;new Set(ee.map(l=>l.year));const p=()=>ee.sort((l,n)=>l.year!==n.year?n.year-l.year:l.subtitle&&!n.subtitle?1:!l.subtitle&&n.subtitle?-1:l.title.localeCompare(n.title)),_=l=>l.flag||l.tag.toLowerCase();let o=!1;return de(async()=>{t(1,o=!0)}),a.$$set=l=>{"data"in l&&t(0,r=l.data)},[r,o,p,_]}class Ie extends _e{constructor(e){super(),pe(this,e,we,xe,he,{data:0})}}export{Ie as component};
