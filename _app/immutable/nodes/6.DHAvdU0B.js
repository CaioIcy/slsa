import{s as de,o as he,n as X}from"../chunks/scheduler.BMzRc5ua.js";import{S as _e,i as pe,e as b,s as j,c as y,a as w,v as ne,b as B,f as m,g as x,h as N,j as u,k as P,n as O,m as H,w as oe,p as ie,t as R,q as ce,d as T,r as fe,l as A,u as ue,o as Y,y as Z}from"../chunks/index.B-7jAQE8.js";import{e as z,F as me}from"../chunks/flag.Dj5Nv46Z.js";import{g as ee}from"../chunks/rankings.BtZ_OKJj.js";import{C as ge}from"../chunks/characterStock.DCApK8Ft.js";function te(a,e,t){const l=a.slice();return l[5]=e[t],l}function le(a,e,t){const l=a.slice();return l[8]=e[t],l}function ve(a){let e,t,l=a[5].subtitle+"",p;return{c(){e=b("p"),t=R(", "),p=R(l),this.h()},l(h){e=y(h,"P",{class:!0});var n=w(e);t=T(n,", "),p=T(n,l),n.forEach(m),this.h()},h(){x(e,"class","text-md font-thin")},m(h,n){N(h,e,n),u(e,t),u(e,p)},d(h){h&&m(e)}}}function be(a){let e,t,l,p;const h=[xe,ye],n=[];function s(_,r){return _[1]?0:1}return e=s(a),t=n[e]=h[e](a),{c(){t.c(),l=Z()},l(_){t.l(_),l=Z()},m(_,r){n[e].m(_,r),N(_,l,r),p=!0},p(_,r){let c=e;e=s(_),e!==c&&(A(),H(n[c],1,1,()=>{n[c]=null}),O(),t=n[e],t||(t=n[e]=h[e](_),t.c()),P(t,1),t.m(l.parentNode,l))},i(_){p||(P(t),p=!0)},o(_){H(t),p=!1},d(_){_&&m(l),n[e].d(_)}}}function ye(a){let e,t="";return{c(){e=b("div"),e.innerHTML=t,this.h()},l(l){e=y(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-13c0h5b"&&(e.innerHTML=t),this.h()},h(){x(e,"class","stock-placeholder-18 svelte-ke1lx")},m(l,p){N(l,e,p)},i:X,o:X,d(l){l&&m(e)}}}function xe(a){let e,t;return e=new ge({props:{size:"18",character:a[8].characters[0]}}),{c(){ie(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,p){fe(e,l,p),t=!0},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function re(a){var d,g,i;let e,t,l,p=(a[8].hm?"HM":a[8].rank)+"",h,n,s,_,r,c=a[0].db.fGetPlayerBySlug(a[8].player).tag+"",o,D,V,S,$=(((g=(d=a[0].db.fGetPlayerBySlug(a[8].player))==null?void 0:d.slippiConnectCodes)==null?void 0:g.slice(0,1))||"")+"",M,F,E,I,f,C=((i=a[8].characters)==null?void 0:i.length)>0&&be(a);return{c(){e=b("div"),t=b("div"),l=b("p"),h=R(p),n=j(),s=b("div"),_=b("div"),r=b("p"),o=R(c),D=j(),V=b("div"),S=b("p"),M=R($),F=j(),E=b("div"),C&&C.c(),I=j(),this.h()},l(v){e=y(v,"DIV",{class:!0});var k=w(e);t=y(k,"DIV",{class:!0});var L=w(t);l=y(L,"P",{class:!0});var G=w(l);h=T(G,p),G.forEach(m),L.forEach(m),n=B(k),s=y(k,"DIV",{class:!0});var q=w(s);_=y(q,"DIV",{class:!0});var J=w(_);r=y(J,"P",{class:!0});var K=w(r);o=T(K,c),K.forEach(m),J.forEach(m),D=B(q),V=y(q,"DIV",{class:!0});var Q=w(V);S=y(Q,"P",{class:!0});var U=w(S);M=T(U,$),U.forEach(m),Q.forEach(m),q.forEach(m),F=B(k),E=y(k,"DIV",{class:!0});var W=w(E);C&&C.l(W),W.forEach(m),I=B(k),k.forEach(m),this.h()},h(){x(l,"class","text-center text-sm font-semibold"),x(t,"class","flex flex-col justify-center items-center h-full min-w-[28px] bg-slsa-light"),x(r,"class","font-bold"),x(_,"class","flex flex-row justify-start items-center"),x(S,"class","text-xs text-primary-light"),x(V,"class","flex flex-row justify-start items-center"),x(s,"class","flex flex-col justify-evenly w-full px-2 leading-[1.25]"),x(E,"class","flex flex-col items-center justify-center h-full min-w-[20px] m-[2px]"),x(e,"class","flex flex-row justify-between items-center align-middle h-10 m-1 min-w-[196px] h-[36px] bg-[#ffffff14] rounded grid-flow-col")},m(v,k){N(v,e,k),u(e,t),u(t,l),u(l,h),u(e,n),u(e,s),u(s,_),u(_,r),u(r,o),u(s,D),u(s,V),u(V,S),u(S,M),u(e,F),u(e,E),C&&C.m(E,null),u(e,I),f=!0},p(v,k){var L,G,q;(!f||k&1)&&c!==(c=v[0].db.fGetPlayerBySlug(v[8].player).tag+"")&&Y(o,c),(!f||k&1)&&$!==($=(((G=(L=v[0].db.fGetPlayerBySlug(v[8].player))==null?void 0:L.slippiConnectCodes)==null?void 0:G.slice(0,1))||"")+"")&&Y(M,$),((q=v[8].characters)==null?void 0:q.length)>0&&C.p(v,k)},i(v){f||(P(C),f=!0)},o(v){H(C),f=!1},d(v){v&&m(e),C&&C.d()}}}function se(a){let e,t,l,p,h,n=a[5].year+"",s,_,r,c,o=a[5].title+"",D,V,S,$,M,F;l=new me({props:{width:48,country:a[2](a[5])}});let E=!!a[5].subtitle&&ve(a),I=z(a[5].players.sort(ae)),f=[];for(let d=0;d<I.length;d+=1)f[d]=re(le(a,I,d));const C=d=>H(f[d],1,1,()=>{f[d]=null});return{c(){e=b("div"),t=b("div"),ie(l.$$.fragment),p=j(),h=b("p"),s=R(n),_=j(),r=b("p"),c=R(" • "),D=R(o),V=j(),E&&E.c(),S=j(),$=b("div");for(let d=0;d<f.length;d+=1)f[d].c();M=j(),this.h()},l(d){e=y(d,"DIV",{class:!0});var g=w(e);t=y(g,"DIV",{class:!0});var i=w(t);ce(l.$$.fragment,i),p=B(i),h=y(i,"P",{class:!0});var v=w(h);s=T(v,n),v.forEach(m),_=B(i),r=y(i,"P",{class:!0});var k=w(r);c=T(k," • "),D=T(k,o),k.forEach(m),V=B(i),E&&E.l(i),i.forEach(m),S=B(g),$=y(g,"DIV",{class:!0});var L=w($);for(let G=0;G<f.length;G+=1)f[G].l(L);L.forEach(m),M=B(g),g.forEach(m),this.h()},h(){x(h,"class","text-lg font-bold ml-3"),x(r,"class","text-lg font-bold"),x(t,"class","flex flex-row w-full h-9 items-center bg-purple"),x($,"class","grid grid-cols-5 p-2 max-h-[436px] border-y border-primary-dark"),x(e,"class","bg-primary-main w-inherit mb-12 rounded")},m(d,g){N(d,e,g),u(e,t),fe(l,t,null),u(t,p),u(t,h),u(h,s),u(t,_),u(t,r),u(r,c),u(r,D),u(t,V),E&&E.m(t,null),u(e,S),u(e,$);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m($,null);u(e,M),F=!0},p(d,g){if(g&3){I=z(d[5].players.sort(ae));let i;for(i=0;i<I.length;i+=1){const v=le(d,I,i);f[i]?(f[i].p(v,g),P(f[i],1)):(f[i]=re(v),f[i].c(),P(f[i],1),f[i].m($,null))}for(A(),i=I.length;i<f.length;i+=1)C(i);O()}},i(d){if(!F){P(l.$$.fragment,d);for(let g=0;g<I.length;g+=1)P(f[g]);F=!0}},o(d){H(l.$$.fragment,d),f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)H(f[g]);F=!1},d(d){d&&m(e),ue(l),E&&E.d(),oe(f,d)}}}function ke(a){let e,t,l="Rankings",p,h,n=z(ee()),s=[];for(let r=0;r<n.length;r+=1)s[r]=se(te(a,n,r));const _=r=>H(s[r],1,1,()=>{s[r]=null});return{c(){e=b("section"),t=b("h1"),t.textContent=l,p=j();for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=y(r,"SECTION",{class:!0});var c=w(e);t=y(c,"H1",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-7n02pt"&&(t.textContent=l),p=B(c);for(let o=0;o<s.length;o+=1)s[o].l(c);c.forEach(m),this.h()},h(){x(t,"class","text-4xl font-medium mb-8"),x(e,"class","grid grid-cols-1 w-full min-w-[1024px] max-w-[1024px] my-8")},m(r,c){N(r,e,c),u(e,t),u(e,p);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);h=!0},p(r,[c]){if(c&7){n=z(ee());let o;for(o=0;o<n.length;o+=1){const D=te(r,n,o);s[o]?(s[o].p(D,c),P(s[o],1)):(s[o]=se(D),s[o].c(),P(s[o],1),s[o].m(e,null))}for(A(),o=n.length;o<s.length;o+=1)_(o);O()}},i(r){if(!h){for(let c=0;c<n.length;c+=1)P(s[c]);h=!0}},o(r){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)H(s[c]);h=!1},d(r){r&&m(e),oe(s,r)}}}const ae=(a,e)=>e.rank-a.rank;function we(a,e,t){let{data:l={}}=e;const p=n=>n.flag||n.tag.toLowerCase();let h=!1;return he(async()=>{t(1,h=!0)}),a.$$set=n=>{"data"in n&&t(0,l=n.data)},[l,h,p]}class De extends _e{constructor(e){super(),pe(this,e,we,ke,de,{data:0})}}export{De as component};
